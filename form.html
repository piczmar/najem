<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Carousel Template &middot; Bootstrap</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">

<!-- Le styles -->
<link href="assets/css/bootstrap.css" rel="stylesheet">
<link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
<link href="assets/css/app.css" rel="stylesheet">
<style>

</style>

<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
<script src="../assets/js/html5shiv.js"></script>
<![endif]-->

<!-- Fav and touch icons -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
<link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
<link rel="shortcut icon" href="../assets/ico/favicon.png">
</head>

<body>


<!-- NAVBAR
    ================================================== -->
<div class="navbar-wrapper">
    <!-- Wrap the .navbar in .container to center it within the absolutely positioned parent. -->
    <div class="container">

        <div class="navbar navbar-inverse">
            <div class="navbar-inner">
                <!-- Responsive Navbar Part 1: Button for triggering responsive navbar (not covered in tutorial). Include responsive CSS to utilize. -->
                <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="brand" href="#">Proste Umowy</a>
                <!-- Responsive Navbar Part 2: Place all navbar contents you want collapsed withing .navbar-collapse.collapse. -->
                <div class="nav-collapse collapse">
                    <ul class="nav">
                        <li><a href="#about">O nas</a></li>
                        <li><a href="#price">Cennik</a></li>
                        <li><a href="#blog">Blog</a></li>
                        <li><a href="#contact">Kontakt</a></li>
                    </ul>
                </div>
                <!--/.nav-collapse -->
            </div>
            <!-- /.navbar-inner -->
        </div>
        <!-- /.navbar -->

    </div>
    <!-- /.container -->
</div>
<!-- /.navbar-wrapper -->


<!-- Marketing messaging and featurettes
================================================== -->
<!-- Wrap the rest of the page in another container to center all the content. -->

<div class="container">

    <!-- Three columns of text below the carousel -->

    <div class="row">
        <br/> <br/> <br/>

        <div class="span5">
            <h3>Umowa najmu mieszkania</h3>
            <!--ul>
               <li>Branching wizard with four steps.</li>
               <li>Branching is decided depending on which country is selected.</li>
               <li>The form is posted on step "Swedish last step - Information" due to the step having a class="submit_step" </li>
               <li>Validation plugin enabled for the email fields on the second step.</li>
               <li>Form plugin enabled and beforeSubmit and success callbacks are used.</li>
               </ul-->
            <hr/>
            <h5 id="status"></h5>

            <form id="demoForm" method="post" action="json.html" class="demoForm">
                <div id="fieldWrapper">
                    <div class="step" id="first">
                        <h3>Podaj swoje dane</h3>
                        <input id="seller_name" name="seller_name" type="text" class="input-block-level" placeholder="Imie">
                        <input id="seller_surname" name="seller_surname" type="text" class="input-block-level" placeholder="Nazwisko">
                        <input id="seller_nr_dow" name="seller_nr_dow" type="text" class="input-block-level" placeholder="Nr dowodu osobistego">
                        <input id="seller_street" name="seller_street" type="text" class="input-block-level" placeholder="Ulica">
                        <input id="seller_city" name="seller_city" type="text" class="input-block-level" placeholder="Miasto">
                        <input id="seller_zip" name="seller_zip" type="text" class="input-block-level" placeholder="Kod pocztowy">
                    </div>
                    <div class="step" id="rodzaj_umowy">
                        <h3>Rodzaj najemcy</h3>
                        <p>Czy najemca to osoba fizyczna czy firma?</p>
                        <div class="controls-row">
                            <label class="radio inline">
                                <input type="radio" class="link required" id="osoba" value="osoba" name="goto"
                                       checked="true"/>
                                Osoba
                            </label>
                            <label class="radio inline">
                                <input type="radio" class="link" id="firma" value="firma" name="goto"/>
                                Firma
                            </label>
                        </div>
                        <br/>
                    </div>

                    <div class="step" id="firma">
                        <h3>Podaj dane firmy</h3>
                        <input id="buyer_company" name="buyer_company"  type="text" class="input-block-level" placeholder="Nazwa firmy">
                        <input id="buyer_krs" name="buyer_krs" type="text" class="input-block-level" placeholder="Numer KRS" rel="tooltip"
                               title="Numer wpisu do rejestru przedsiębiorców Krajowego Rejestru Sądowego">
                        <input id="buyer_company_street" name="buyer_street" type="text" class="input-block-level" placeholder="Siedziba firmy - ulica">
                        <input id="buyer_company_city" name="buyer_company_city" type="text" class="input-block-level" placeholder="Siedziba firmy - miasto">
                        <input id="buyer_company_zip" name="buyer_company_zip" type="text" class="input-block-level" placeholder="Siedziba firmy - kod poczt.">
                        <input id="buyer_name" name="buyer_name" type="text" class="input-block-level" placeholder="Imię" rel="tooltip"
                               title="Imię osoby reprezentującej firme">
                        <input id="buyer_surname" name="buyer_surname" type="text" class="input-block-level" placeholder="Nazwisko" rel="tooltip"
                               title="Nazwisko osoby reprezentującej firmę">
                        <input id="buyer_nr_dow" name="buyer_nr_dow" type="text" class="input-block-level" placeholder="Nr dowodu osobistego">
                        <input id="buyer_street" name="buyer_street" type="text" class="input-block-level" placeholder="Ulica" rel="tooltip"
                               title="Adres osoby representującej firmę">
                        <input id="buyer_city" name="buyer_city" type="text" class="input-block-level" placeholder="Miasto">
                        <input id="buyer_zip" name="buyer_zip" type="text" class="input-block-level" placeholder="Kod pocztowy">
                        <input type="hidden" class="link" value="mieszkanie"/>
                    </div>
                    <div class="step" id="osoba">
                        <h3>Podaj dane osoby ktora wynajmuje mieszkanie</h3>
                        <input id="buyer_os_name" name="buyer_name" type="text" class="input-block-level" placeholder="Imie">
                        <input id="buyer_os_surname" name="buyer_surname" type="text" class="input-block-level" placeholder="Nazwisko">
                        <input id="buyer_os_street" name="buyer_street" type="text" class="input-block-level" placeholder="Ulica">
                        <input id="buyer_os_city" name="buyer_city" type="text" class="input-block-level" placeholder="Miasto">
                        <input id="buyer_os_zip" name="buyer_zip" type="text" class="input-block-level" placeholder="Kod pocztowy">
                        <input type="hidden" class="link" value="mieszkanie"/>
                    </div>
                    <div class="step" id="mieszkanie">
                        <h3>Wynajmowane mieszkanie</h3>
                        <input id="rent_size" name="rent_size" type="text" class="input-block-level" placeholder="Powierzchnia" rel="tooltip"
                               title="Powierzchnia w m2.">
                        <input id="rent_street" name="rent_street" type="text" class="input-block-level" placeholder="Ulica" rel="tooltip"
                               title="Adres osoby representującej firmę">
                        <input id="rent_city" name="rent_city" type="text" class="input-block-level" placeholder="Miasto">
                        <input  id="rent_zip" name="rent_zip" type="text" class="input-block-level" placeholder="Kod pocztowy">

                        <p>Data przekazania mieszkania najemcy</p>

                        <div class="controls-row">
                            <label class="radio inline">
                                <label for="dataWynajmu">&nbsp;&nbsp;</label>
                            </label>
                            <label class="radio inline">
                                <input id="dataWynajmu" type="date" class="input-block-level">
                            </label>
                        </div>
                        <p>Na jaki czas chcesz wynająć mieszkanie?</p>

                        <div class="controls-row">
                            <label class="radio inline">
                                <input type="radio" id="okreslony" name="czas_najmu" value="okreslony"  onclick="$('#czas_najmu_do').show();" rel="tooltip"
                                       title="Jeśli nie chcesz określać końca umowy"/>
                                Określony
                            </label>
                            <label class="radio inline">
                                <input type="radio" id="nieokreslony"  name="czas_najmu" value="nieokreslony" onclick="$('#czas_najmu_do').hide();"/>
                                Nieokreślony
                            </label>
                        </div>

                        <div id="czas_najmu_od" class="controls-row">
                            <label class="radio inline">
                                <label for="czasNajmuOd">Od</label>
                            </label>
                            <label class="radio inline">
                                <input id="czasNajmuOd" name="czasNajmuOd" type="date" class="input-block-level">
                            </label>
                        </div>
                        <div id="czas_najmu_do" class="controls-row" hidden='true'>
                            <label class="radio inline">
                                <label for="czasNajmuDo">Do</label>
                            </label>
                            <label class="radio inline">
                                <input id="czasNajmuDo" name="czasNajmuDo" type="date" class="input-block-level">
                            </label>
                        </div>
                        <input  id="rent_month_cost" name="rent_month_cost" type="text" class="input-block-level" placeholder="Miesięczny czynsz">

                        <input type="hidden" class="link" value="drobne_naprawy"/>
                    </div>

                    <div id="drobne_naprawy" class="step">
                        <p>Czy chcesz jakie drobne naprawy ma ponosić najemca??</p>

                        <div class="controls-row">
                            <label class="radio inline">
                                <input type="radio" onclick="$('#drobneNaprawy').hide();" name="drobne_naprawy" />
                                Nie
                            </label>
                            <label class="radio inline">
                                <input type="radio" onclick="$('#drobneNaprawy').show();" name="drobne_naprawy" />
                                Tak
                            </label>
                        </div>
                        <textarea id="drobneNaprawy" hidden='true' class="input-xlarge"
                                  placeholder="Np. naprawa i konserwacja okien, naprawa wykładzin"></textarea>

                    </div>
                    <div id="demoNavigation">
                        <input class="btn btn-large btn-primary" id="back" value="Back" type="reset"/>
                        <input class="btn btn-large btn-primary" id="next" value="Next" type="submit"/>
                    </div>

                </div>
            </form>
            <hr/>

            <p id="data"></p>
        </div>
        <!-- /.span11 -->
        <div class="span6">
            <div id="umowa-txt"></div>
        </div>
    </div>
    <!-- /.row -->

    <!-- /END THE FEATURETTES -->


    <!-- FOOTER -->
    <footer>
        <p class="pull-right"><a href="#">Back to top</a></p>

        <p>&copy; 2013 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
    </footer>

</div>
<!-- /.container -->


<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.js"></script>


<script type="text/javascript" src="assets/js/jquery.form.js"></script>
<script type="text/javascript" src="assets/js/jquery.validate.js"></script>
<script type="text/javascript" src="assets/js/bbq.js"></script>
<script type="text/javascript" src="assets/js/jquery-ui-1.8.5.custom.min.js"></script>
<script type="text/javascript" src="assets/js/jquery.form.wizard.js"></script>


<script src="assets/js/jquery-mustache.js"></script>
<script src="assets/js/mustache.js"></script>

<script>
    $(function () {

        $('input[title]').tooltip({placement:'right'});
        $('input[rel="tooltip"]').tooltip();


        $("#demoForm").formwizard({
                    formPluginEnabled:true,
                    validationEnabled:true,
                    focusFirstInput:true,
                    formOptions:{
                        success:function (data) {
                            $("#status").fadeTo(500, 1, function () {
                                $(this).html("Wlasnie stworzyłeś umowę. gratulujemy!").fadeTo(5000, 0);
                            })
                        },
                        beforeSubmit:function (data) {
                            console.log($.param(data));
                        },
                        dataType:'json',
                        resetForm:true
                    }
                }
        );

        var remoteAjax = {}; // empty options object
        var globData = {date: "16-06-2013"};
        $("#demoForm .step").each(function(){ // for each step in the wizard, add an option to the remoteAjax object...
            remoteAjax[$(this).attr("id")] = {
                url : "json.html", // the url which stores the stuff in db for each step
                dataType : 'json',
                beforeSubmit: function(data){

                    console.log("data sent to the server: " + $.param(data) + " "+JSON.stringify(data))
                    for(var i=0; i<data.length; i++){
                        globData[data[i].name]=data[i].value;
                    }
                    globData['city']=data['seller_city'];

                    if(globData.goto){
                        if(globData.goto ==="osoba"){
                            globData['osoba'] = true;
                            globData['firma'] = false;
                        }
                        if(globData.goto ==="firma"){
                            globData['osoba'] = false;
                            globData['firma'] = true;
                        }
                    }
                    console.log(globData);

                    $('#umowa-txt').mustache('umowa-template', globData, { method:'html' });
                },
                success : function(data){
                    if(data){ //data is either true or false (returned from store_in_database.html) simulating successful / failing store
                        console.log("    .... store done successfully");
                    }else{
                        alert("Server-side validation returned errors, nothing was stored.");
                    }

                    return data; //return true to make the wizard move to the next step, false will cause the wizard to stay on the CV step (change this in store_in_database.html)
                }
            };
        });

        $("#demoForm").formwizard("option", "remoteAjax", remoteAjax); // set the remoteAjax option for the wizard

        var viewData = {
            date:"16-06-2013",
            place:"łódź",
            street:"Kolejowa",
            street_no:"23",
            name:"Adam",
            surname:"Kowalski",
            zip_code: '23-232'
        };

        $.Mustache.load('templates/greetings.html').done(function () {
            $('#umowa-txt').mustache('simple-hello', viewData, { method:'html' });
        });
    });
</script>

<script src="../assets/js/holder/holder.js"></script>
</body>
</html>
